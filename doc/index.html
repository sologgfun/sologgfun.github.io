<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>web端优化实践 | ppap</title>
    <meta name="description" content="tricks">
    <link rel="icon" href="/images/favicon.png">
  <meta name="theme-color" content="#00adb5">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="msapplication-TileColor" content="#00adb5">
    
    <link rel="preload" href="/assets/css/0.styles.c254be1c.css" as="style"><link rel="preload" href="/assets/js/app.b03e2f9e.js" as="script"><link rel="preload" href="/assets/js/10.4f0ef2ea.js" as="script"><link rel="prefetch" href="/assets/js/11.11fd8dd3.js"><link rel="prefetch" href="/assets/js/12.1b4d4e8d.js"><link rel="prefetch" href="/assets/js/3.f213af83.js"><link rel="prefetch" href="/assets/js/4.3deafbb3.js"><link rel="prefetch" href="/assets/js/5.03b78b4d.js"><link rel="prefetch" href="/assets/js/6.70e3135a.js"><link rel="prefetch" href="/assets/js/7.11f29aaa.js"><link rel="prefetch" href="/assets/js/8.8f5f3db1.js"><link rel="prefetch" href="/assets/js/9.33a0fa3a.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.acb8fdc6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c254be1c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">ppap</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/doc/.html" class="nav-link">GitHub</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/doc/.html" class="nav-link">GitHub</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>日常工具</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/pic/" class="sidebar-link">PDF处理</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="web端优化实践"><a href="#web端优化实践" aria-hidden="true" class="header-anchor">#</a> web端优化实践</h1> <p><code>背景</code> 业务快速迭代，多端逻辑，重复功能较多，白屏久</p> <p><code>目的</code> 又快又好的做出页面，让用户又快又好的使用</p> <h2 id="开发实践"><a href="#开发实践" aria-hidden="true" class="header-anchor">#</a> 开发实践</h2> <h3 id="封装js库"><a href="#封装js库" aria-hidden="true" class="header-anchor">#</a> 封装js库</h3> <ol><li>把 H5 研发场景中，那些常用的能力包揽进来，比如：</li></ol> <ul><li>从 APP 分享到微信</li> <li>WebView 跳转逻辑</li> <li>用户登录态获取、用户登录（app/微信）</li> <li>图片中心剪裁、分享长图</li> <li>跳转app各种scheme路径</li> <li>获取用户位置信息</li> <li>...
抹平 <strong>app/微信/...</strong> 等渠道差异</li></ul> <p>以前：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;plugin1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.0.39&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugin2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.5.11&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugin3&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.5.19&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugin4&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.1.8&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugin5&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.0.0&quot;</span><span class="token punctuation">,</span>
  ...
<span class="token punctuation">}</span>
</code></pre></div><p>现在：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;tricks&quot;</span><span class="token operator">:</span> <span class="token string">&quot;latest&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li><p>ui库提升开发效率，针对公司业务封装特定组件，比如<code>问卷调查、播放器、图片宫格、查看大图</code>等</p></li> <li><p><strong>(团队通用)</strong> 快速部署工具 -&gt; <strong>替代ftp直接上传，留下部署记录</strong></p></li></ol> <h2 id="用户体验"><a href="#用户体验" aria-hidden="true" class="header-anchor">#</a> 用户体验</h2> <h3 id="首屏优化"><a href="#首屏优化" aria-hidden="true" class="header-anchor">#</a> 首屏优化</h3> <ol><li>图片裁剪、使用webp</li> <li>资源提前请求</li> <li>异步路由</li> <li>异步组件</li> <li>使用轻量级插件、异步插件</li> <li>公用CDN</li> <li>组件按需引用</li></ol> <h3 id="网络优化"><a href="#网络优化" aria-hidden="true" class="header-anchor">#</a> 网络优化</h3> <ol><li>减少网络请求</li> <li>合理使用preload、dns-prefetch、prefetch</li> <li>PWA:serviceWork缓存策略</li></ol> <h3 id="体验优化"><a href="#体验优化" aria-hidden="true" class="header-anchor">#</a> 体验优化</h3> <ol><li>图片/路由懒加载</li> <li>骨架屏优化使用体验</li></ol> <h2 id="数据相关"><a href="#数据相关" aria-hidden="true" class="header-anchor">#</a> 数据相关</h2> <ol><li>封装开发埋点库</li> <li>页面秒开率统计上报 (数据化上报) <strong>(团队通用?)</strong></li></ol> <img src="https://cdnh5.kan0512.com/截图.pngd87f2673-daa8-464a-8fda-fb72d01b6821" width="80%"> <h2 id="稳定性相关"><a href="#稳定性相关" aria-hidden="true" class="header-anchor">#</a> 稳定性相关</h2> <ol><li>接入beta服务器 <strong>(前后端)</strong></li> <li>灰度上线，尽早暴露问题 <strong>(后端)</strong></li> <li>技术方案考虑用户心理 <strong>（可以有效减少客诉）</strong></li> <li>针对活动特性进行优化 <strong>（前后端,如压测）</strong></li></ol></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">12/7/2020, 3:18:14 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.b03e2f9e.js" defer></script><script src="/assets/js/10.4f0ef2ea.js" defer></script>
  </body>
</html>
